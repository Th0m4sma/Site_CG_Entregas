<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Computação Gráfica - Atividade 2</title>
    <link rel="stylesheet" href="../../estilo_header.css">

</head>
<body>
    <header id="cabecalho">
    <p>COMPUTAÇÃO GRÁFICA - EXERCÍCIO 2</p>

    <!-- Imagem lateral direita -->
    <div class="img-lateral">
        <img src="../../imagens/icon_grupo.webp" alt="Perfil" id="btn-lista">
        <a href="https://github.com/Th0m4sma/Site_CG_Entregas" target="_blank"><img src="../../imagens/icon_github.png" alt="Perfil" id="icon_github"></a>
        <a href="../../index.html"><img src="../../imagens/botao_voltar.png" alt="Perfil" id="botao_voltar"></a>

        <!-- Lista que vai aparecer ao clicar -->
        <ul class="lista-oculta" id="lista">
            <li>
                Lucas Molinari<br>
                <a href="l.molinari@unifesp.br">l.molinari@unifesp.br</a>
            </li>
            <li>
                Nicolas Freitas<br>
                <a href="n.freitas@unifesp.br">n.freitas@unifesp.br</a>
            </li>
            <li>
                João Victor Rocha<br>
                <a href="Jv.rocha@unifesp.br">Jv.rocha@unifesp.br</a>
            </li>
            <li>
                Thomas Pires Correia<br>
                <a href="mailto:correia.thomas@unifesp.br">correia.thomas@unifesp.br</a>
            </li>
        </ul>
    </div>
   </header>

   <label for="forma">Escolha uma forma:</label>
    <select id="forma">
        <option value="linha">Linha</option>
        <option value="triangulo">Triângulo</option>
    </select>
    <button id="btnDesenhar">Desenhar</button>


   <canvas id="tela" width="180" height="180" style="border:1px solid black;"></canvas>

</body>
<script>
const btnDesenhar = document.getElementById("btnDesenhar");
const formaSelect = document.getElementById("forma");

btnDesenhar.addEventListener("click", () => {
    const forma = formaSelect.value;

    // Remove qualquer canvas anterior
    const canvas = document.getElementById("tela");
    const gl = canvas.getContext("webgl");
    gl.clear(gl.COLOR_BUFFER_BIT);

    // Remove script anterior se existir
    const oldScript = document.getElementById("formaScript");
    if (oldScript) oldScript.remove();

    // Cria novo script
    const script = document.createElement("script");
    script.id = "formaScript";

    if (forma === "linha") {
        script.src = "linha.js?cachebust=" + new Date().getTime();
    } else if (forma === "triangulo") {
        script.src = "triangulo.js?cachebust=" + new Date().getTime();
    }


    document.body.appendChild(script);
});
</script>
<script src="../../cabecalho.js"></script>
</html>